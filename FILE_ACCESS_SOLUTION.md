# ุญู ูุดููุฉ 403 Forbidden ูุนุฑุถ ุดูุงุฏุงุช ุงูููุฏ

## ุงููุดููุฉ ุงูุฃุตููุฉ
ุนูุฏ ุงูุถุบุท ุนูู "View Enrollment Certificate" ูุงู ูุธูุฑ ุฎุทุฃ **403 Forbidden** ุจุฏูุงู ูู ุนุฑุถ ุงูููู.

## ุฃุณุจุงุจ ุงููุดููุฉ

### 1. ูุดููุฉ Storage Link
- ุงููููุงุช ูุญููุธุฉ ูู `storage/app/public/docs`
- ููู ูู ููู ููุงู symbolic link ุจูู `public/storage` ู `storage/app/public`
- **ุงูุญู**: ุชุดุบูู `php artisan storage:link`

### 2. ูุดููุฉ ุงูุตูุงุญูุงุช ูุงูุฃูุงู
- ุงุณุชุฎุฏุงู `Storage::url()` ูุจุงุดุฑุฉ ุบูุฑ ุขูู
- ูุง ููุฌุฏ ุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- **ุงูุญู**: ุฅูุดุงุก FileController ูุฎุตุต ูุน ุชุญูู ูู ุงูุตูุงุญูุงุช

### 3. ูุดููุฉ ุงูุทูุงุจ ุจุฏูู ุดูุงุฏุงุช
- ุงูุทูุงุจ ุงููุถุงููู ูู Admin Panel ูุง ูููููู ุดูุงุฏุงุช ููุฏ
- ุงูููุฏ ูุงู ูุญุงูู ุนุฑุถ ูููุงุช ุบูุฑ ููุฌูุฏุฉ
- **ุงูุญู**: ูุนุงูุฌุฉ ุฃูุถู ููุญุงูุงุช ุงูููููุฏุฉ

## ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก FileController
**ุงูููู**: `app/Http/Controllers/FileController.php`

```php
class FileController extends Controller
{
    public function viewEnrollmentCertificate($studentId)
    {
        // ุงูุชุญูู ูู ุงูุตูุงุญูุงุช - ุงููุดุฑููู ูุงููุฏุฑุงุก ููุท
        if (!$user || !in_array($user->role, ['supervisor', 'admin'])) {
            abort(403, 'Access denied. Supervisors and admins only.');
        }
        
        // ุงูุชุญูู ูู ูุฌูุฏ ุงูุทุงูุจ ูุงูุดูุงุฏุฉ
        // ุฅุฑุฌุงุน ุงูููู ุจุดูู ุขูู
    }
}
```

### 2. ุฅุถุงูุฉ Routes ุขููุฉ
**ุงูููู**: `routes/web.php`

```php
Route::middleware(['auth'])->group(function () {
    Route::get('/files/enrollment-certificate/{student}', [FileController::class, 'viewEnrollmentCertificate'])
        ->name('files.enrollment-certificate.view');
    Route::get('/files/enrollment-certificate/{student}/download', [FileController::class, 'downloadEnrollmentCertificate'])
        ->name('files.enrollment-certificate.download');
});
```

### 3. ุชุญุฏูุซ ูุงุฌูุฉ ุงููุดุฑู
**ุงูููู**: `resources/views/supervisor/student_verification.blade.php`

```php
@if($cert)
  <a href="{{ route('files.enrollment-certificate.view', $s->id) }}" target="_blank" class="btn small">
    <i class="fa-solid fa-file-pdf"></i> View
  </a>
  <a href="{{ route('files.enrollment-certificate.download', $s->id) }}" class="btn small">
    <i class="fa-solid fa-download"></i> Download
  </a>
@else
  <span class="muted">No certificate</span>
@endif
```

### 4. ุฅูุดุงุก Storage Link
```bash
php artisan storage:link
```

## ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ

### ๐ ุฃูุงู ูุญุณู
- ุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูุจู ุนุฑุถ ุงูููู
- ุงููุดุฑููู ูุงููุฏุฑุงุก ููุท ูููููู ุงููุตูู
- ุญูุงูุฉ ูู ุงููุตูู ุงููุจุงุดุฑ ูููููุงุช

### ๐ ูุนุงูุฌุฉ ุฃูุถู ูููููุงุช
- ุงูุชุญูู ูู ูุฌูุฏ ุงูููู ูุจู ุงูุนุฑุถ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูููููุงุช ุงูููููุฏุฉ
- ุฏุนู ุฃููุงุน ูููุงุช ูุชุนุฏุฏุฉ (PDF, JPG, PNG)

### ๐พ ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ
- **View**: ุนุฑุถ ุงูููู ูู ุงููุชุตูุญ
- **Download**: ุชุญููู ุงูููู ูุน ุงุณู ููุงุณุจ

### ๐ฏ ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุฎุงุตุฉ
- ุงูุทูุงุจ ุจุฏูู ุดูุงุฏุงุช: ุนุฑุถ "No certificate"
- ุงููููุงุช ุงูููููุฏุฉ: ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ
- ุตูุงุญูุงุช ุฎุงุทุฆุฉ: ุฑุณุงูุฉ ููุน ุงููุตูู

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุดุฑููู:
1. ุงุฐูุจ ุฅูู ุตูุญุฉ Student Verification
2. ุงุจุญุซ ุนู ุงูุทุงูุจ ุงููุทููุจ
3. ุงุถุบุท ุนูู **View** ูุนุฑุถ ุงูุดูุงุฏุฉ ูู ุงููุชุตูุญ
4. ุงุถุบุท ุนูู **Download** ูุชุญููู ุงูุดูุงุฏุฉ

### ูููุฏุฑุงุก:
- ููุณ ุงูุตูุงุญูุงุช ูุงููุดุฑููู
- ูููู ุงููุตูู ูุฌููุน ุดูุงุฏุงุช ุงูุทูุงุจ

### ููุทูุงุจ:
- ูุง ูููููู ุงููุตูู ูุดูุงุฏุงุช ุงูุทูุงุจ ุงูุขุฎุฑูู
- ูุธูุฑ ููู ุฎุทุฃ 403 Forbidden

## ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช
```
โ ูุดุฑู ูุฏุฎู: ูุฑู ุงูุดูุงุฏุฉ
โ ูุฏูุฑ ูุฏุฎู: ูุฑู ุงูุดูุงุฏุฉ  
โ ุทุงูุจ ูุฏุฎู: 403 Forbidden
โ ุบูุฑ ูุณุฌู ุฏุฎูู: ุฅุนุงุฏุฉ ุชูุฌูู ููุชุณุฌูู
```

### 2. ุงุฎุชุจุงุฑ ุงููููุงุช
```
โ ููู ููุฌูุฏ: ูุนุฑุถ ุจูุฌุงุญ
โ ููู ููููุฏ: 404 Not Found
โ ุทุงูุจ ุจุฏูู ุดูุงุฏุฉ: "No certificate"
```

### 3. ุงุฎุชุจุงุฑ ุฃููุงุน ุงููููุงุช
```
โ PDF: ูุนุฑุถ ูู ุงููุชุตูุญ
โ JPG/PNG: ูุนุฑุถ ูุตูุฑุฉ
โ ุฃููุงุน ุฃุฎุฑู: ูุญูู ูุจุงุดุฑุฉ
```

## ุงููููุงุช ุงููุญุฏุซุฉ

1. **`app/Http/Controllers/FileController.php`** - ุฌุฏูุฏ
2. **`routes/web.php`** - ุฅุถุงูุฉ routes
3. **`resources/views/supervisor/student_verification.blade.php`** - ุชุญุฏูุซ ุงูุฑูุงุจุท
4. **`storage/app/public/docs/`** - ูุฌูุฏ ุงููููุงุช
5. **`public/storage`** - symbolic link

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ุธูุฑ 403 Forbidden:
1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ููุดุฑู ุฃู ูุฏูุฑ
2. ุชุญูู ูู ูุฌูุฏ ุงูู routes ุงูุฌุฏูุฏุฉ
3. ุชุฃูุฏ ูู ุชุดุบูู `php artisan route:clear`

### ุฅุฐุง ุธูุฑ 404 Not Found:
1. ุชุญูู ูู ูุฌูุฏ ุงูููู ูู `storage/app/public/docs/`
2. ุชุฃูุฏ ูู ุตุญุฉ ูุณุงุฑ ุงูููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ูุฌูุฏ Storage Link

### ุฅุฐุง ูู ูุนูู ุงูุชุญููู:
1. ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุฌูุฏ
2. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูู web server
3. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุดุงูู ูู ุงูู .htaccess
